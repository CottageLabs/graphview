<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="utf-8">
    <title>GraphView</title>
    <meta name="description" content="GraphView">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- get jquery -->
    <script type="text/javascript" src="vendor/jquery/1.7.1/jquery-1.7.1.min.js"></script>

    <!-- get bootstrap js and css -->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap-responsive.min.css">
    <script type="text/javascript" src="vendor/bootstrap/js/bootstrap.min.js"></script>  

    <!-- get jquery-ui js and css -->
    <link rel="stylesheet" href="vendor/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.css">
    <script type="text/javascript" src="vendor/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.min.js"></script>
                
    <!-- get select2-->
    <link rel="stylesheet" href="vendor/select2-release-3.2/select2.css">
    <script type="text/javascript" src="vendor/select2-release-3.2/select2.min.js"></script>

    <!-- get d3 -->
    <script type="text/javascript" src="vendor/d3/d3.min.js"></script>

    <!-- get graphview and launch -->
    <script type="text/javascript" src="jquery.graphview.js"></script>
    <link rel="stylesheet" href="graphview.css">
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        $('#graph').css({"height":$(window).height() - 5});
        $('#graph').graphview({
            /*"source": 'http://test.cottagelabs.com:5010/graph',
            "graphable": {
                //"ignore":[], 
                "only":["project"], 
                //"promote":{'record':['keywords','tags']}, 
                //"links":{'wikipedia':['topic'],'reference':['_parents'],'record':['children']},
                "ignoreisolated":false,
                "dropfacets":true,
                "drophits":true
            },*/
            "source": 'http://test.cottagelabs.com:9200/gtr/project/_search',
            "graphable": false,
            "datatype": "JSONP",
            "searchbox_suggestions": [
                {"field":"projectComposition.leadResearchOrganisation.name.exact","display":"lead orgs"},
                {'field':'projectComposition.collaborator.name.exact','display':'collaborators'},
                {'field':'projectComposition.organisation.name.exact','display':'organisations'},
                {"field":"projectComposition.projectPerson.name.exact","display":"project people"},
                {"field":"projectComposition.project.status.exact","display":"project status"},
                {"field":"projectComposition.project.output.researchMaterialOutput.impact.exact","display":"project research impact"},
                {"field":"projectComposition.project.output.productOutput.impact.exact","display":"project product impact"},
                {"field":"projectComposition.project.title.exact","display":"project title"},
                {"field":"projectComposition.project.grantReference.exact","display":"grantref"},
                {"field":"projectComposition.project.grantCategory.exact","display":"grant category"},
            ],
            "suggestions_size": 100,
            "paging":{
                "from":0,
                "size":100
            },
            "showlabels": false,
            "slide_on": "",//"projectComposition.project.fund.start",
            "displaytype": "force",
            "nodesize": 1000,
            "nodetypes": [
                {'field':'projectComposition.collaborator.name.exact','display':'collaborators'},
                {'field':'projectComposition.organisation.name.exact','display':'organisations'},
                {'field':'projectComposition.project.publication.title.exact','display':'publications'},
                {"field":"projectComposition.projectPerson.name.exact","display":"people"},
                {"field":"projectComposition.project.output.researchMaterialOutput.impact.exact","display":"project research impact"},
                {"field":"projectComposition.project.output.productOutput.impact.exact","display":"project product impact"}
            ]
        });
    });
    </script>

</head>

<body>

<div id="graph" style="width:100%;"></div>

</body>
</html>
